# Bookinfo on OpenShift Service Mesh 3 (Ambient Mode)

This project deploys the Bookinfo microservices application on Red Hat OpenShift Service Mesh 3, utilizing the modern Istio Ambient Mode. This architecture provides a secure, sidecar-less service mesh that separates the data plane from the application logic.

  

ðŸš€ Key Features

Sidecar-less Architecture: Leverages Ztunnels for zero-trust security (mTLS) at Layer 4 and Waypoint Proxies for advanced Layer 7 traffic management.

  

Red Hat Connectivity Link: The environment is pre-configured with Red Hat Connectivity Link, ensuring robust, secure, and seamless application connectivity across the cluster and external endpoints.

  

End-to-End Observability: Fully integrated with Kiali for mesh topology visualization and Tempo for distributed tracing via OTLP.

  

ðŸ› ï¸ Tech Stack & Configuration

Platform: Red Hat OpenShift

  

Mesh Mode: Ambient (Dataplane v2)

  

Interconnectivity: Red Hat Connectivity Link

  

Tracing Protocol: OTLP (gRPC/HTTP)

  

Visualization: Kiali, Grafana, Jaeger/Tempo

  

ðŸ—ï¸ Architecture Overview

The bookinfo namespace is configured for full Ambient Mode support:

  

Ztunnel: Handles secure mTLS communication and L4 telemetry.

  

Waypoint Proxy: Manages L7 routing and generates detailed distributed traces.

  

âœ… Quick Verification

To verify the mesh status and generate traffic for tracing:

  

Bash

 1. Verify Namespace Labels (Ensure Ambient & Waypoint are active)

    oc get ns bookinfo --show-labels

  
2. Generate Traffic (Bypass Ingress for internal mesh testing)

    oc run traffic-gen -n bookinfo --image=curlimages/curl --restart=Never --rm -it -- /bin/sh -c "for i in \$(seq 1 50); do curl -s http://productpage:9080/productpage > /dev/null; echo -n .; done"

ðŸ“Š Viewing Telemetry

Topology: Access the Kiali Console to view the service graph and security edges.

  

Traces: Check the Tracing tab in Kiali to inspect spans generated by the Waypoint proxy (e.g., waypoint.bookinfo).


### Setup Virtual Environment

Create and activate a clean Python environment to avoid conflicts.

**For Bash/Zsh:**

```
python3 -m venv venv
source venv/bin/activate

```

**For Fish Shell:**

```
python3 -m venv venv
source venv/bin/activate.fish

```

### 3. Install Dependencies & Run

Once the environment is active, execute the installation wrapper. This script will install required Ansible collections and python libraries before launching the playbooks.

```
./install.sh

```

> **â˜• Note:** This is a full-stack deployment. The complete provisioning process may take **~10-20 minutes** depending on your cluster's resources and internet connection.